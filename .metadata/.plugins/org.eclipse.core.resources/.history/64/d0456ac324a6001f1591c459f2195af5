package main;

import java.io.File;

import javafx.application.Application;
import javafx.beans.property.SimpleStringProperty;
import javafx.collections.FXCollections;
import javafx.collections.ObservableList;
import javafx.event.ActionEvent;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.ScrollPane;
import javafx.scene.control.TableColumn;
import javafx.scene.control.TableView;
import javafx.scene.layout.BorderPane;
import javafx.stage.FileChooser;
import javafx.stage.Stage;

public class Main extends Application{

    private TableView<Event> table = new TableView<>();
    private ObservableList<Event> data = FXCollections.observableArrayList();

    @Override
    public void start(Stage primaryStage) {
        primaryStage.setTitle("JavaFX Example with File Chooser, Table, and Scroll Pane");

        // File Chooser
        FileChooser fileChooser = new FileChooser();
        Button openFileButton = new Button("Open File");
        openFileButton.setOnAction((ActionEvent e) -> {
            File file = fileChooser.showOpenDialog(primaryStage);
            if (file != null) {
                System.out.println("File selected: " + file.getAbsolutePath());
            }
        });

        // Table setup
        TableColumn<Event, String> eventColumn = new TableColumn<>("Event");
        eventColumn.setCellValueFactory(data -> new SimpleStringProperty(data.getValue().getEventName()));

        table.getColumns().add(eventColumn);
        table.setItems(data);

        // Add example events to the table
        data.add(new Event("Event 1"));
        data.add(new Event("Event 2"));
        data.add(new Event("Event 3"));

        // Action Listener
        Button addButton = new Button("Add Event");
        addButton.setOnAction(event -> {
            data.add(new Event("New Event"));
        });

        // Scroll Pane
        ScrollPane scrollPane = new ScrollPane();
        scrollPane.setContent(table);

        // Layout
        BorderPane layout = new BorderPane();
        layout.setTop(openFileButton);
        layout.setCenter(scrollPane);
        layout.setBottom(addButton);

        Scene scene = new Scene(layout, 600, 400);
        primaryStage.setScene(scene);
        primaryStage.show();
    }

    // Event class
    public static class Event {
        private final String eventName;

        public Event(String eventName) {
            this.eventName = eventName;
        }

        public String getEventName() {
            return eventName;
        }
    }

    public static void main(String[] args) {
        launch(args);
    }
}
